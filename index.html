<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Madam Ji — Birthday Surprise</title>
  <style>
    :root{
      --bg:#fde8f0;         /* light pink backdrop */
      --panel:#ffffff;
      --text:#222;
      --muted:#6b7280;
      --pill:#e21b5a;       /* fuchsia-pink button like in the clip */
      --pillText:#fff;
      --accent1:#ffd400;    /* small top dot (yellow) */
      --accent2:#ff5a54;    /* small top dot (red) */
      --green:#a5d34e;
      --teal:#35b3b3;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      overflow-x:hidden;
    }

    /* Floating heart outlines in the background */
    .hearts{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:.6;
      mask-image: linear-gradient(#000, rgba(0,0,0,.6) 30%, rgba(0,0,0,.2) 60%, transparent);
    }
    .heart{
      position:absolute;
      width:28px; height:28px;
      border:2px solid #ff7aa2;
      border-radius: 32px 32px 0 0;
      transform: rotate(-45deg);
      animation: floatUp var(--dur) linear infinite;
      opacity:.7;
    }
    .heart::before, .heart::after{
      content:"";
      position:absolute;
      width:28px; height:28px;
      border:2px solid #ff7aa2;
      border-radius: 32px 32px 0 0;
      top:-20px; left:0;
      transform: rotate(90deg);
    }
    .heart::after{
      top:0; left:20px; transform: rotate(0deg);
    }
    @keyframes floatUp {
      0%   { transform: translateY(20vh) rotate(-45deg); opacity:.0;}
      15%  { opacity:.7; }
      100% { transform: translateY(-110vh) rotate(-45deg); opacity:.1;}
    }

    /* Top dots seen in the clip */
    .top-dots{
      position:fixed; top:10px; right:16px; display:flex; gap:22px; z-index:5;
    }
    .dot{ width:14px; height:14px; border-radius:999px; }
    .dot.yellow{ background:var(--accent1); box-shadow:0 0 0 4px rgba(255,212,0,.15); }
    .dot.red{ background:var(--accent2); box-shadow:0 0 0 4px rgba(255,90,84,.15); }

    /* Center stage */
    .stage{
      max-width:960px;
      margin: 40px auto 120px;
      padding: clamp(12px, 3vw, 28px);
      display:flex;
      flex-direction:column;
      gap:28px;
      align-items:center;
    }

    .card{
      background:var(--panel);
      border-radius:14px;
      padding: 18px 22px;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
      font-size: clamp(20px, 3.2vw, 32px);
      font-weight: 600;
      display:flex; align-items:center; gap:10px;
    }
    .sparkle{ font-size: 1.1em; }

    /* Big pill button */
    .pill{
      appearance:none; border:0; outline:0;
      background: linear-gradient(180deg, #ff3a78, var(--pill));
      color:var(--pillText);
      padding: 16px 32px;
      font-size: clamp(16px, 2.2vw, 20px);
      font-weight:700;
      border-radius: 40px;
      box-shadow: 0 8px 20px rgba(226,27,90,.35);
      cursor:pointer;
      transition: transform .08s ease, box-shadow .2s ease;
    }
    .pill:hover{ transform: translateY(-1px); }
    .pill:active{ transform: translateY(1px); box-shadow: 0 4px 10px rgba(226,27,90,.25); }

    /* Garland banner (Happy Birthday) */
    .garland{
      width:min(680px, 92vw);
      margin-top: 6px;
      opacity:0; transform: translateY(8px) scale(.98);
      transition: all .6s cubic-bezier(.2,.8,.2,1);
      filter: drop-shadow(0 8px 14px rgba(0,0,0,.08));
    }
    .garland.show{ opacity:1; transform: translateY(0) scale(1); }

    /* Balloons / popsicle-like sticks */
    .balloons{
      position:relative;
      width:100%; max-width:960px; height:260px;
      overflow:visible;
      opacity:0; transform: translateY(8px) scale(.98);
      transition: all .6s cubic-bezier(.2,.8,.2,1);
    }
    .balloons.show{ opacity:1; transform: translateY(0) scale(1); }
    .balloon{
      position:absolute; bottom:0;
      width:22px; height:34px; border-radius:12px;
      background:#35b3b3;
      animation: bob 3s ease-in-out infinite;
    }
    .balloon::after{
      content:""; position:absolute; left:10px; top:34px; width:2px; height:70px; background:#7aa; opacity:.7;
    }
    @keyframes bob{
      0%,100%{ transform: translateY(0) }
      50%{ transform: translateY(-12px) }
    }

    /* Cake image */
    .cake{
      width:min(320px, 70vw);
      border-radius: 12px;
      box-shadow: 0 12px 28px rgba(0,0,0,.15);
      opacity:0; transform: translateY(8px) scale(.98);
      transition: all .6s cubic-bezier(.2,.8,.2,1);
    }
    .cake.show{ opacity:1; transform: translateY(0) scale(1); }

    /* Footer tip */
    .tip{ color:var(--muted); font-size:14px; margin-top:20px; }

    /* Responsive spacing on very small screens */
    @media (max-width:420px){
      .stage{ margin-top:24px; }
      .balloons{ height:220px; }
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="top-dots">
    <div class="dot yellow"></div>
    <div class="dot red"></div>
  </div>

  <main class="stage">
    <div id="msg" class="card"><span class="sparkle">✨</span><span>It's Your Special Day Yeyey!</span></div>
    <button id="action" class="pill">Decorate</button>

    <!-- Garland SVG -->
    <svg id="garland" class="garland" viewBox="0 0 900 320" xmlns="http://www.w3.org/2000/svg" aria-label="Happy Birthday garland">
      <defs>
        <linearGradient id="g1" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="#39c1c1"/>
          <stop offset="1" stop-color="#1ea3a3"/>
        </linearGradient>
        <linearGradient id="g2" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0" stop-color="#c5e66a"/>
          <stop offset="1" stop-color="#98c735"/>
        </linearGradient>
      </defs>
      <path d="M20 50 C 200 160, 700 160, 880 50" fill="none" stroke="#88aa33" stroke-width="6" stroke-linecap="round"/>
      <g id="flags"></g>
    </svg>

    <!-- Balloons -->
    <div id="balloons" class="balloons"></div>

    <!-- Cake -->
    <img id="cake" class="cake" src="./cake.png" alt="Birthday cake" />
    <div class="tip">Tip: replace <code>cake.png</code> with your own cake photo to match the clip exactly.</div>
  </main>

  <script>
    // Create floating heart outlines in the background
    const heartsEl = document.getElementById('hearts');
    const makeHearts = () => {
      const W = window.innerWidth;
      const n = Math.min(40, Math.floor(W/25));
      heartsEl.innerHTML = '';
      for(let i=0;i<n;i++){
        const h = document.createElement('div');
        h.className = 'heart';
        const left = Math.random()*100;
        const delay = Math.random()*8;
        const dur = 6 + Math.random()*8;
        h.style.left = left + 'vw';
        h.style.bottom = (-10 - Math.random()*80) + 'vh';
        h.style.animationDelay = delay + 's';
        h.style.setProperty('--dur', dur + 's');
        heartsEl.appendChild(h);
      }
    };
    makeHearts();
    addEventListener('resize', () => { clearTimeout(window.__hrt); window.__hrt=setTimeout(makeHearts, 150); });

    // Build the garland flags and letters "HAPPY BIRTHDAY"
    const letters = "HAPPY BIRTHDAY".split('');
    const flagsG = document.getElementById('flags');
    const makeFlag = (x, y, letter, i) => {
      const g = document.createElementNS('http://www.w3.org/2000/svg','g');
      g.setAttribute('transform',`translate(${x},${y})`);

      const col = i%2===0 ? 'url(#g1)' : 'url(#g2)';
      const p = document.createElementNS('http://www.w3.org/2000/svg','path');
      p.setAttribute('d','M0 0 L50 0 L25 60 Z');
      p.setAttribute('fill', col);
      p.setAttribute('stroke','#2a6');
      p.setAttribute('stroke-width','2');
      g.appendChild(p);

      const text = document.createElementNS('http://www.w3.org/2000/svg','text');
      text.setAttribute('x','25'); text.setAttribute('y','35');
      text.setAttribute('text-anchor','middle');
      text.setAttribute('dominant-baseline','middle');
      text.setAttribute('font-size','26');
      text.setAttribute('font-weight','700');
      text.setAttribute('fill','#113');
      text.textContent = letter === ' ' ? '' : letter;
      g.appendChild(text);
      return g;
    };

    const curve = (t) => {
      // cubic Bezier roughly matching the rope
      const p0=[20,50], p1=[200,160], p2=[700,160], p3=[880,50];
      const x = Math.pow(1-t,3)*p0[0] + 3*Math.pow(1-t,2)*t*p1[0] + 3*(1-t)*Math.pow(t,2)*p2[0] + Math.pow(t,3)*p3[0];
      const y = Math.pow(1-t,3)*p0[1] + 3*Math.pow(1-t,2)*t*p1[1] + 3*(1-t)*Math.pow(t,2)*p2[1] + Math.pow(t,3)*p3[1];
      return [x,y];
    };

    for(let i=0;i<letters.length;i++){
      const t = (i+1)/(letters.length+1);
      const [x,y] = curve(t);
      flagsG.appendChild(makeFlag(x-25, y, letters[i], i));
    }

    // Balloons positions/colors
    const balloonColors = ['#ff6f61','#35b3b3','#f6a73e','#7c83ff','#2ecc71'];
    const balloonsEl = document.getElementById('balloons');
    for(let i=0;i<12;i++){
      const b = document.createElement('div');
      b.className='balloon';
      b.style.left = (5 + Math.random()*90) + '%';
      b.style.background = balloonColors[i % balloonColors.length];
      b.style.animationDelay = (Math.random()*1.5) + 's';
      b.style.height = (28 + Math.random()*12) + 'px';
      b.style.width = (16 + Math.random()*10) + 'px';
      balloonsEl.appendChild(b);
    }

    // Stepper logic for the messages and reveals
    const msgEl = document.getElementById('msg').querySelector('span:last-child');
    const actionEl = document.getElementById('action');
    const garlandEl = document.getElementById('garland');
    const cakeEl = document.getElementById('cake');

    const steps = [
      { msg: "It's Your Special Day Yeyey!", btn: "Decorate", run: () => {} },
      { msg: "Do you wanna see what I made??", btn: "Let's Cut the Cake Madam Ji", run: () => { garlandEl.classList.add('show'); } },
      { msg: "Have a look at it, Madam Jiii", btn: "Well, I Have a Message for You Madam Ji", run: () => { balloonsEl.classList.add('show'); } },
      { msg: "Well, I Have a Message for You Madam Ji", btn: "Replay", run: () => { cakeEl.classList.add('show'); } },
    ];
    let idx = 0;

    const applyStep = () => {
      const s = steps[idx];
      msgEl.textContent = s.msg;
      actionEl.textContent = s.btn;
      s.run();
    };
    applyStep();

    actionEl.addEventListener('click', () => {
      idx = (idx + 1) % steps.length;
      applyStep();
      if(idx===0){ // reset on replay
        garlandEl.classList.remove('show');
        balloonsEl.classList.remove('show');
        cakeEl.classList.remove('show');
      }
      // small click ripple
      actionEl.style.transform = 'translateY(1px)';
      setTimeout(()=> actionEl.style.transform='', 90);
    });
  </script>
</body>
</html>
